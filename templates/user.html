{% extends "base.html" %}
{% block title %}api{% endblock %}
{% block content %} 
<style>
    body{
      margin-top: 70px;
}
</style>
<div class="container">
    <h2 style="text-align: center;">Pakistan Stock Exchange Limited</h2>  
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
      </ol>
  
      <!-- Wrapper for slides -->
      <div class="carousel-inner">
        <div class="item active">
          <img src="{{ url_for('static', filename='images.jpg')}}" alt="Los Angeles" style="width:100%;">
        </div>
  
        <div class="item">
          <img src="{{ url_for('static', filename='0_dtiuqS8kNB66Mp5P.png')}}" alt="Chicago" style="width:100%;">
        </div>
      </div>
  
      <!-- Left and right controls -->
      <a class="left carousel-control" href="#myCarousel" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <br>
    <h2 style="text-align: center;">Registered Companies</h2>
    <br>
  <div class="panel panel-info">
    <!-- Default panel contents -->
    <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: large;">Stock Companies</div>
    <div class="panel-body">
       <input class="form-control input-lg" id="myInput"  onkeyup="myFunction()" type="text" placeholder="Search Company... ">
       <div class="table-responsive">
       <table class="table" id="myTable" cellspacing="0" cellpadding="0">
    <thead>
      <tr>
        <th>Company</th>
        <th>Analysis | Profile</th>
      </tr>
    </thead>
    <tbody >
      {% for comm in data['response'] %}
      <tr id="tre">
         <td> <a href="profile/{{ comm['stock_id'] }}">{{comm['name'] }}</a></td>
         <td><a href="analysis/{{ comm['stock_id'] }}"><button>Analysis</button></a> &nbsp;<a href="profile/{{comm['stock_id']}}"><button>Profile</button></a> </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
 </div>
     </div>
     <div class="panel-footer">pakistan stock exchange summary</div>
   </div>
  <script>
      function myFunction() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }       
        }
      }
</script>
{%- endblock %}
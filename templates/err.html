{% extends "base.html" %}
{% block head %}
  {{ super() }}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"> </script>
{% endblock %}
{% block content %}

<div class="container">
      <p>{{company['info']['_t']}}</p>
  <div class="panel panel-info">
    <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: larger; ">{{ company['response'][0]['full_name'] }} 
    <br><p style="text-align: center;">({{company['response'][0]['sector']}})</p>
    </div>
    <div class="panel-body">
      <div class="row">
        <div class=" col-sm-4 col-lg-4" >
          <h5>Price:</h5>
          <hr>
          <h5>{{company['response'][0]['full_name']}}</h5>
        </div>
        <div class=" col-sm-4 col-lg-4" >
          <h5>High:</h5>
          <hr>
          <h5>{{company['response'][0]['symbol']}}</h5>
        </div>
        <div class=" col-sm-4 col-lg-4">
          <h5>Industry type:</h5>
          <hr>
          <h5>{{company['response'][0]['industry']}}</h5>
        </div>
       </div>


    <div class="panel-footer" style="text-align: center; background-color: silver;" > Phone: {{company['response'][0]['info']['phone']}} &nbsp; Address:  {{company['response'][0]['info']['locality']}} &nbsp; Website: <a href="{{company['response'][0]['info']['website']}}">{{company['response'][0]['info']['website']}} </a> </div>
  </div>
<br>

  <div class="panel panel-info">
    <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: larger; ">PERFORMANCE 
    </div>
    <div class="panel-body">
      <div class="row">
        <div class=" col-sm-3 col-lg-3" >
          <h5>Daily:</h5>
          <hr>
          <h5>{{per['response'][0]['daily']}} &nbsp; %</h5>
        </div>
        <div class=" col-sm-3 col-lg-3" >
          <h5>Week:</h5>
          <hr>
          <h5>{{per['response'][0]['week']}} &nbsp; %</h5>
        </div>
        <div class=" col-sm-3 col-lg-3" >
          <h5>Month:</h5>
          <hr>
          <h5>{{per['response'][0]['month']}} &nbsp; %</h5>
        </div>
        <div class=" col-sm-3 col-lg-3">
          <h5>Year:</h5>
          <hr>
          <h5>{{per['response'][0]['year']}} &nbsp;%</h5>
        </div>
       </div>


    <div class="panel-footer" style="text-align: center; background-color: silver;">Performane measure in percentage</div>
  </div>



  <br>
  <div class="row">
    <div class="col-lg-12" class="col-sm-12">
  <div class="panel panel-info">
    <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: larger; ">1 month data
    </div>
    <div class="panel-body">
        <canvas id="myChart"></canvas>
    <div>
      </div> 
    </div>
    <div class="panel-footer" style="text-align: center; background-color: silver;">Data Visualization</div>
  </div>



  <script>
    var ctx = document.getElementById('myChart');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: {{dte|tojson}} ,     
            datasets: [{
                label: 'daily price of open ',
                data: {{oneday|tojson}} ,
                backgroundColor: [
                'rgba(180, 180, 180, 0.2)',
                ],
                borderColor: [
                'rgba(120, 120, 120, 1)',
                ],
                borderWidth: 3
            }]
        },
        options: {
          title: {
            display: true,
            text: '1 month price visualization'
            },
          hover: {
            mode: 'index',
            intersect: 'index'
    },
        }
    });
    </script>

{%- endblock %}
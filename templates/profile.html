{% extends "base.html" %}
{% block head %}
  {{ super() }}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.3.0/Chart.min.js"> </script>
  {% block title %}
    Analysis
  {% endblock %}
{% endblock %}
{% block content %} 
<div class="container">
    <div class="panel panel-info">
        <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: larger; "> 1 month analysis</div>
        <div class="panel-body">
            <canvas id="myChart" height="800px" width="1000px"></canvas>
        </div>
        <div class="panel-footer" style="text-align: center; background-color: gray;"> 1 month analysis</div>
    </div>

    <div class="panel panel-info">
        <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: larger; "> 1 year analysis</div>
        <div class="panel-body">
            <canvas id="myCharty" height="1000px" width="1200"></canvas>
        </div>
        <div class="panel-footer" style="text-align: center; background-color: gray;">1 year analysis of price of open</div>
    </div>
           
    <div class="panel panel-info">
        <div class="panel-heading" style="text-align: center; background-color: black; color: white; font-size: larger; ">Technical Indicator 
        </div>
        <div class="panel-body">
          <div class="row">
            <div class=" col-sm-3 col-lg-3" >
              <h5>Hourly:</h5>
              <hr>
              <h5>{{fund['response'][0]['hourly']}}</h5>
            </div>
            <div class=" col-sm-3 col-lg-3" >
              <h5>Daily:</h5>
              <hr>
              <h5>{{fund['response'][0]['daily']}}</h5>
            </div>
            <div class=" col-sm-3 col-lg-3" >
              <h5>Weekly:</h5>
              <hr>
              <h5>{{fund['response'][0]['weekly']}} </h5>
            </div>
            <div class=" col-sm-3 col-lg-3">
              <h5>Monthly:</h5>
              <hr>
              <h5>{{fund['response'][0]['monthly']}}</h5>
            </div>
           </div>
    
    
        <div class="panel-footer" style="text-align: center; ">analysis report</div>
      </div>
</div>


<script>
    var ctx = document.getElementById('myChart');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: {{dte|tojson}} ,     
            datasets: [{
                label: 'daily price of open ',
                data: {{oneday|tojson}} ,
                backgroundColor: [
                'rgba(180, 180, 180, 0.2)',
                ],
                borderColor: [
                'rgba(120, 120, 120, 0.7)',
                ],
                borderWidth: 1
            }]
        },
        options: {
          title: {
            display: true,
            text: '1 month price visualization'
            },
          hover: {
            mode: 'index',
            intersect: 'index'
    },
        }
    });


    var ctx = document.getElementById('myCharty');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: {{dtey|tojson}} ,     
            datasets: [{
                label: '1 year price of open ',
                data: {{openy|tojson}} ,
                backgroundColor: [
                'rgba(180, 180, 180, 0.2)',
                ],
                borderColor: [
                'rgba(120, 120, 120, 1)',
                ],
                borderWidth: 3
            }]
        },
        options: {
          title: {
            display: true,
            text: '1 year analysis'
            },
          hover: {
            mode: 'index',
            intersect: 'index'
    },
        }
    });
    </script>
{% endblock %}